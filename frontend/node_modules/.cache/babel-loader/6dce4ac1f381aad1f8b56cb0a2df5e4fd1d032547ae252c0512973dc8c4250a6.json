{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"../Styles.css\";import React,{useState,useEffect}from'react';import ListGroup from'react-bootstrap/ListGroup';import Button from'react-bootstrap/Button';import{NavLink,useParams}from\"react-router-dom\";import{Footer}from\"../components/Footer\";import{useSelector}from'react-redux';import{selectCurrentUser}from'./UserPage/currentUserSlice';import{getUser}from\"../fetcher\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserList(props){var header=\"\";var _useParams=useParams(),username=_useParams.username;// the logged-in user who is browsing page (self)\nvar stateCurrentUser=useSelector(selectCurrentUser);// the user we are browsing (other), default self\nvar _useState=useState(stateCurrentUser),_useState2=_slicedToArray(_useState,2),thisUser=_useState2[0],setThisUser=_useState2[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getUser(username);case 2:response=_context.sent;//get the user object\nif(response===undefined){alert(\"User Not Found.\");}else{setThisUser(response);}case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}try{fetchData();}catch(err){console.error(err);}},[username]);//adding dependency making sure useEffect only run once after each render\nvar userlist;if(props.list===\"follower\"){header=\"Followers\";userlist=thisUser.followers.map(function(p){return/*#__PURE__*/_jsx(ListGroup.Item,{as:\"li\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/user/\"+p,className:\"button_text\",children:p})});});}else{header=\"Following\";userlist=thisUser.followings.map(function(p){return/*#__PURE__*/_jsx(ListGroup.Item,{as:\"li\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/user/\"+p,className:\"button_text\",children:p})});});}return/*#__PURE__*/_jsxs(\"div\",{className:\"background\",children:[/*#__PURE__*/_jsxs(\"h2\",{style:{paddingLeft:\"2rem\",paddingBottom:\"1rem\"},children:[\" \",header,\" \"]}),/*#__PURE__*/_jsx(ListGroup,{as:\"ul\",defaultActiveKey:\"#link1\",style:{paddingLeft:\"2rem\",paddingRight:\"70%\",paddingBottom:\"2rem\"},children:userlist}),/*#__PURE__*/_jsx(NavLink,{to:\"/user/\"+thisUser.username,className:\"button_text\",style:{paddingLeft:\"2rem\"},children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",children:\"Back\"})}),/*#__PURE__*/_jsx(\"div\",{style:{paddingLeft:\"2rem\",paddingTop:\"1rem\"},children:/*#__PURE__*/_jsx(Footer,{})})]});}export default UserList;","map":{"version":3,"names":["React","useState","useEffect","ListGroup","Button","NavLink","useParams","Footer","useSelector","selectCurrentUser","getUser","UserList","props","header","username","stateCurrentUser","thisUser","setThisUser","fetchData","response","undefined","alert","err","console","error","userlist","list","followers","map","p","followings","paddingLeft","paddingBottom","paddingRight","paddingTop"],"sources":["/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/frontend/src/pages/UserList.js"],"sourcesContent":["import \"../Styles.css\";\nimport React, { useState, useEffect } from 'react';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Button from 'react-bootstrap/Button';\nimport { NavLink, useParams} from \"react-router-dom\";\nimport {Footer} from \"../components/Footer\";\nimport { useSelector } from 'react-redux'\nimport {selectCurrentUser} from './UserPage/currentUserSlice'\nimport { getUser } from \"../fetcher\";\n\nfunction UserList(props){\n    var header = \"\";\n    let { username } = useParams();\n    // the logged-in user who is browsing page (self)\n    const stateCurrentUser = useSelector(selectCurrentUser);\n    // the user we are browsing (other), default self\n    const [thisUser, setThisUser] = useState(stateCurrentUser);\n\n\n    useEffect(() => {\n      async function fetchData() {\n        //verification username exist or not\n        let response = await getUser(username);\n         //get the user object\n        if(response === undefined){\n          alert(\"User Not Found.\")\n        }else{\n          setThisUser(response);}\n      }\n\n      try{fetchData();}\n      catch(err){\n          console.error(err);\n      }\n    }, [username]); //adding dependency making sure useEffect only run once after each render\n\n    let userlist;\n    if (props.list === \"follower\") {\n     header = \"Followers\";\n      userlist =  thisUser.followers.map((p) => (\n      <ListGroup.Item as=\"li\" >\n        <NavLink to={\"/user/\"+p} className=\"button_text\">\n          {p}\n        </NavLink>\n      </ListGroup.Item>\n    ))\n    } else {\n    header =  \"Following\";\n    userlist =  thisUser.followings.map((p) => (\n      <ListGroup.Item as=\"li\" >\n        <NavLink to={\"/user/\"+p} className=\"button_text\">\n          {p}\n        </NavLink>\n      </ListGroup.Item>\n    ))\n    }\n\n    \n    return(\n    <div className=\"background\">\n    <h2 style={{paddingLeft: \"2rem\", paddingBottom: \"1rem\"}}> {header} </h2>\n    <ListGroup as=\"ul\" defaultActiveKey=\"#link1\" style={{paddingLeft: \"2rem\", paddingRight: \"70%\", paddingBottom: \"2rem\"}}>\n      {userlist}\n    </ListGroup>\n    <NavLink to={\"/user/\"+thisUser.username} className=\"button_text\" style={{paddingLeft: \"2rem\"}}>\n        <Button variant=\"primary\">\n            Back\n        </Button>\n    </NavLink>\n    <div style={{paddingLeft: \"2rem\", paddingTop: \"1rem\"}}>\n        <Footer />\n    </div>\n    </div>\n    )\n}\n\nexport default UserList"],"mappings":"miBAAA,MAAO,eAAe,CACtB,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,UAAS,KAAM,2BAA2B,CACjD,MAAOC,OAAM,KAAM,wBAAwB,CAC3C,OAASC,OAAO,CAAEC,SAAS,KAAO,kBAAkB,CACpD,OAAQC,MAAM,KAAO,sBAAsB,CAC3C,OAASC,WAAW,KAAQ,aAAa,CACzC,OAAQC,iBAAiB,KAAO,6BAA6B,CAC7D,OAASC,OAAO,KAAQ,YAAY,CAAC,wFAErC,QAASC,SAAQ,CAACC,KAAK,CAAC,CACpB,GAAIC,OAAM,CAAG,EAAE,CACf,eAAmBP,SAAS,EAAE,CAAxBQ,QAAQ,YAARA,QAAQ,CACd;AACA,GAAMC,iBAAgB,CAAGP,WAAW,CAACC,iBAAiB,CAAC,CACvD;AACA,cAAgCR,QAAQ,CAACc,gBAAgB,CAAC,wCAAnDC,QAAQ,eAAEC,WAAW,eAG5Bf,SAAS,CAAC,UAAM,SACCgB,UAAS,uIAAxB,wKAEuBR,QAAO,CAACI,QAAQ,CAAC,QAAlCK,QAAQ,eACX;AACD,GAAGA,QAAQ,GAAKC,SAAS,CAAC,CACxBC,KAAK,CAAC,iBAAiB,CAAC,CAC1B,CAAC,IAAI,CACHJ,WAAW,CAACE,QAAQ,CAAC,CAAC,CAAC,sDAC1B,4CAED,GAAG,CAACD,SAAS,EAAE,CAAC,CAChB,MAAMI,GAAG,CAAC,CACNC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACtB,CACF,CAAC,CAAE,CAACR,QAAQ,CAAC,CAAC,CAAE;AAEhB,GAAIW,SAAQ,CACZ,GAAIb,KAAK,CAACc,IAAI,GAAK,UAAU,CAAE,CAC9Bb,MAAM,CAAG,WAAW,CACnBY,QAAQ,CAAIT,QAAQ,CAACW,SAAS,CAACC,GAAG,CAAC,SAACC,CAAC,qBACrC,KAAC,SAAS,CAAC,IAAI,EAAC,EAAE,CAAC,IAAI,uBACrB,KAAC,OAAO,EAAC,EAAE,CAAE,QAAQ,CAACA,CAAE,CAAC,SAAS,CAAC,aAAa,UAC7CA,CAAC,EACM,EACK,EAClB,CAAC,CACF,CAAC,IAAM,CACPhB,MAAM,CAAI,WAAW,CACrBY,QAAQ,CAAIT,QAAQ,CAACc,UAAU,CAACF,GAAG,CAAC,SAACC,CAAC,qBACpC,KAAC,SAAS,CAAC,IAAI,EAAC,EAAE,CAAC,IAAI,uBACrB,KAAC,OAAO,EAAC,EAAE,CAAE,QAAQ,CAACA,CAAE,CAAC,SAAS,CAAC,aAAa,UAC7CA,CAAC,EACM,EACK,EAClB,CAAC,CACF,CAGA,mBACA,aAAK,SAAS,CAAC,YAAY,wBAC3B,YAAI,KAAK,CAAE,CAACE,WAAW,CAAE,MAAM,CAAEC,aAAa,CAAE,MAAM,CAAE,eAAGnB,MAAM,OAAO,cACxE,KAAC,SAAS,EAAC,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,KAAK,CAAE,CAACkB,WAAW,CAAE,MAAM,CAAEE,YAAY,CAAE,KAAK,CAAED,aAAa,CAAE,MAAM,CAAE,UACnHP,QAAQ,EACC,cACZ,KAAC,OAAO,EAAC,EAAE,CAAE,QAAQ,CAACT,QAAQ,CAACF,QAAS,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,CAAE,CAACiB,WAAW,CAAE,MAAM,CAAE,uBAC1F,KAAC,MAAM,EAAC,OAAO,CAAC,SAAS,kBAEhB,EACH,cACV,YAAK,KAAK,CAAE,CAACA,WAAW,CAAE,MAAM,CAAEG,UAAU,CAAE,MAAM,CAAE,uBAClD,KAAC,MAAM,IAAG,EACR,GACA,CAEV,CAEA,cAAevB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}