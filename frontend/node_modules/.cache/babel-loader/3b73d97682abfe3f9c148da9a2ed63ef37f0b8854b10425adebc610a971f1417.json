{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/WEB_APP/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/WEB_APP/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/WEB_APP/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"../Styles.css\";import React,{useState,useEffect}from'react';import ToggleButton from'react-bootstrap/ToggleButton';import{unlikePost,likePost}from\"../fetcher\";import{jsx as _jsx}from\"react/jsx-runtime\";export function LikeButton(props){var _useState=useState(props.post.likes.includes(props.username)),_useState2=_slicedToArray(_useState,2),checked=_useState2[0],setChecked=_useState2[1];var _useState3=useState(function(){if(checked){return\"Liked\";}else{return\"Like\";}}),_useState4=_slicedToArray(_useState3,2),text=_useState4[0],setText=_useState4[1];function handleLike(_x){return _handleLike.apply(this,arguments);}function _handleLike(){_handleLike=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// tell my grandparent to refresh the page \nprops.setEditedAndRefreshCards(!props.oldEditedAndRefreshCards);setChecked(e.currentTarget.checked);if(!(text===\"Like\")){_context.next=8;break;}setText(\"Liked\");_context.next=6;return likePost(props.username,props.post.id);case 6:_context.next=11;break;case 8:setText(\"Like\");_context.next=11;return unlikePost(props.username,props.post.id);case 11:case\"end\":return _context.stop();}}},_callee);}));return _handleLike.apply(this,arguments);}if(props.username!==\"NOT_A_USER\"){return/*#__PURE__*/_jsx(ToggleButton,{className:\"mb-2\",id:props.post.id,type:\"checkbox\",variant:\"outline-primary\",checked:checked,onChange:handleLike,children:text});}}","map":{"version":3,"names":["React","useState","useEffect","ToggleButton","unlikePost","likePost","LikeButton","props","post","likes","includes","username","checked","setChecked","text","setText","handleLike","e","setEditedAndRefreshCards","oldEditedAndRefreshCards","currentTarget","id"],"sources":["/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/WEB_APP/frontend/src/components/LikeButton.js"],"sourcesContent":["import \"../Styles.css\";\nimport React, { useState, useEffect } from 'react';\nimport ToggleButton from 'react-bootstrap/ToggleButton';\nimport {unlikePost, likePost } from \"../fetcher\";\n\n\nexport function LikeButton(props) {\n    const [checked, setChecked] = useState(props.post.likes.includes(props.username));\n    const [text, setText] = useState(() => {\n        if (checked) {\n            return \"Liked\";\n        }else{\n            return \"Like\"\n        }\n      });\n\n    async function handleLike(e) {\n        // tell my grandparent to refresh the page \n        props.setEditedAndRefreshCards(!props.oldEditedAndRefreshCards);\n\n        setChecked(e.currentTarget.checked);\n        if (text === \"Like\"){\n          setText(\"Liked\");\n          await likePost(props.username, props.post.id);\n        }else{\n          setText(\"Like\");\n          await unlikePost(props.username, props.post.id);\n        }\n      }\n\n    if(props.username !== \"NOT_A_USER\"){\n        return (\n            <ToggleButton\n            className=\"mb-2\"\n            id= {props.post.id}\n            type=\"checkbox\"\n            variant=\"outline-primary\"\n            checked={checked}\n            onChange={handleLike}>\n              {text}\n            </ToggleButton>  \n            );\n    }\n  }\n"],"mappings":"2jBAAA,MAAO,eAAe,CACtB,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,aAAY,KAAM,8BAA8B,CACvD,OAAQC,UAAU,CAAEC,QAAQ,KAAQ,YAAY,CAAC,2CAGjD,MAAO,SAASC,WAAU,CAACC,KAAK,CAAE,CAC9B,cAA8BN,QAAQ,CAACM,KAAK,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAACH,KAAK,CAACI,QAAQ,CAAC,CAAC,wCAA1EC,OAAO,eAAEC,UAAU,eAC1B,eAAwBZ,QAAQ,CAAC,UAAM,CACnC,GAAIW,OAAO,CAAE,CACT,MAAO,OAAO,CAClB,CAAC,IAAI,CACD,MAAO,MAAM,CACjB,CACF,CAAC,CAAC,yCANGE,IAAI,eAAEC,OAAO,eAMf,QAEUC,WAAU,4IAAzB,iBAA0BC,CAAC,oHACvB;AACAV,KAAK,CAACW,wBAAwB,CAAC,CAACX,KAAK,CAACY,wBAAwB,CAAC,CAE/DN,UAAU,CAACI,CAAC,CAACG,aAAa,CAACR,OAAO,CAAC,CAAC,KAChCE,IAAI,GAAK,MAAM,0BACjBC,OAAO,CAAC,OAAO,CAAC,CAAC,sBACXV,SAAQ,CAACE,KAAK,CAACI,QAAQ,CAAEJ,KAAK,CAACC,IAAI,CAACa,EAAE,CAAC,sCAE7CN,OAAO,CAAC,MAAM,CAAC,CAAC,uBACVX,WAAU,CAACG,KAAK,CAACI,QAAQ,CAAEJ,KAAK,CAACC,IAAI,CAACa,EAAE,CAAC,wDAElD,6CAEH,GAAGd,KAAK,CAACI,QAAQ,GAAK,YAAY,CAAC,CAC/B,mBACI,KAAC,YAAY,EACb,SAAS,CAAC,MAAM,CAChB,EAAE,CAAGJ,KAAK,CAACC,IAAI,CAACa,EAAG,CACnB,IAAI,CAAC,UAAU,CACf,OAAO,CAAC,iBAAiB,CACzB,OAAO,CAAET,OAAQ,CACjB,QAAQ,CAAEI,UAAW,UAClBF,IAAI,EACQ,CAEvB,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}