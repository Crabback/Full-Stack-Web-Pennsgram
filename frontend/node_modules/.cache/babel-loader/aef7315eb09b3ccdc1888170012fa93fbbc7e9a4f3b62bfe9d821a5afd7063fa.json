{"ast":null,"code":"import axios from 'axios';\nconst rootURL = !process.env.NODE_ENV || process.env.NODE_ENV === 'development' ? 'http://localhost:8080' : '';\n\n// Add the token to all HTTP requests\nconst setHeaders = () => {\n  axios.defaults.headers.common['Authorization'] = sessionStorage.getItem('app-token') !== null ? sessionStorage.getItem('app-token') : null;\n};\nconst setLockHeaders = () => {\n  axios.defaults.headers.common['Lock'] = sessionStorage.getItem('lock-token') !== null ? sessionStorage.getItem('lock-token') : null;\n};\nconst reAuthenticate = status => {\n  if (status == 401) {\n    sessionStorage.removeItem('app-token');\n    window.location.reload(true);\n  }\n};\nconst login = async (username, password) => {\n  try {\n    setLockHeaders();\n    const res = await axios.post(`${rootURL}/api/login`, {\n      \"username\": username,\n      \"password\": password\n    });\n    if (res.status == 201) {\n      sessionStorage.setItem('app-token', res.data.token);\n      sessionStorage.removeItem('lock-token');\n    }\n    return res;\n  } catch (err) {\n    console.log(err);\n  }\n};\nconst logout = async (username, password) => {\n  try {\n    const res = await axios.post(`${rootURL}/api/logout`, {\n      \"username\": username,\n      \"password\": password\n    });\n    //sessionStorage.setItem('app-token', res.data.token);\n  } catch (err) {\n    console.log(err);\n  }\n};\nconst lock = async username => {\n  try {\n    const res = await axios.post(`${rootURL}/api/lock`, {\n      \"username\": username\n    });\n    if (res.status == 201) {\n      sessionStorage.setItem('lock-token', res.data.token);\n    }\n    return res;\n  } catch (err) {\n    console.log(err);\n  }\n};\nconst getUsers = async () => {\n  try {\n    var res = await axios.get(`${rootURL}/api/users`);\n    console.log(res.status + \" \" + res.statusText);\n    // reAuthenticate(res.status);\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nconst getUser = async username => {\n  try {\n    var res = await axios.get(`${rootURL}/api/user/${username}`);\n    console.log(res.status + \" \" + res.statusText);\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nconst createNewUser = async userObject => {\n  try {\n    var res = await axios.post(`${rootURL}/api/user/`, {\n      \"userObject\": userObject\n    });\n    console.log(res.status + \" \" + res.statusText);\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nconst followUser = async (username1, username2) => {\n  try {\n    setHeaders();\n    var res = await axios.put(`${rootURL}/api/user/follow`, {\n      \"username1\": username1,\n      \"username2\": username2\n    });\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n    reAuthenticate(401);\n  }\n};\nconst unfollowUser = async (username1, username2) => {\n  try {\n    setHeaders();\n    var res = await axios.put(`${rootURL}/api/user/unfollow`, {\n      \"username1\": username1,\n      \"username2\": username2\n    });\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n    reAuthenticate(401);\n  }\n};\nconst getPosts = async () => {\n  try {\n    var res = await axios.get(`${rootURL}/api/posts`);\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nconst getPost = async postId => {\n  try {\n    var res = await axios.get(`${rootURL}/api/post/${postId}`);\n    console.log(res.status + \" \" + res.statusText);\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nconst createNewPost = async (username, postObject) => {\n  try {\n    setHeaders();\n    var res = await axios.post(`${rootURL}/api/post/`, {\n      \"username\": username,\n      \"postObject\": postObject\n    });\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n    reAuthenticate(401);\n  }\n};\nconst deletePost = async postId => {\n  try {\n    setHeaders();\n    var res = await axios.delete(`${rootURL}/api/post/${postId}`);\n    console.log(res.status + \" \" + res.statusText);\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n    reAuthenticate(401);\n  }\n};\nconst updatePost = async (postId, newImage, newDescription) => {\n  try {\n    setHeaders();\n    var res = await axios.put(`${rootURL}/api/post/${postId}`, {\n      \"newImage\": newImage,\n      \"newDescription\": newDescription\n    });\n    console.log(res.status + \" \" + res.statusText);\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n    reAuthenticate(401);\n  }\n};\nconst likePost = async (username, postId) => {\n  try {\n    setHeaders();\n    var res = await axios.put(`${rootURL}/api/post/${postId}/like`, {\n      \"username\": username\n    });\n    console.log(res.status + \" \" + res.statusText);\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n    reAuthenticate(401);\n  }\n};\nconst unlikePost = async (username, postId) => {\n  try {\n    setHeaders();\n    var res = await axios.put(`${rootURL}/api/post/${postId}/unlike`, {\n      \"username\": username\n    });\n    console.log(res.status + \" \" + res.statusText);\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n    reAuthenticate(401);\n  }\n};\nconst getComments = async postId => {\n  var res = await axios.get(`${rootURL}/api/post/${postId}/comments`);\n  console.log(res.status + \" \" + res.statusText);\n  return res.data.data;\n};\nconst addComment = async (postId, commentObject) => {\n  try {\n    setHeaders();\n    var res = await axios.post(`${rootURL}/api/post/${postId}/comments`, {\n      \"commentObject\": commentObject\n    });\n    console.log(res.status + \" \" + res.statusText);\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n    reAuthenticate(401);\n  }\n};\nconst updateComment = async (postId, author, oldContent, newContent, newMention) => {\n  try {\n    setHeaders();\n    console.log(\"(postId, author, oldContent, newContent, newMention) = \", `'${postId}' '${author}' '${oldContent}' '${newContent}' '${newMention}'`);\n    var res = await axios.put(`${rootURL}/api/post/${postId}/comments`, {\n      \"author\": author,\n      \"oldContent\": oldContent,\n      \"newContent\": newContent,\n      \"newMention\": newMention\n    });\n    console.log(res.status + \" \" + res.statusText);\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n    reAuthenticate(401);\n  }\n};\nconst deleteComment = async (postId, author, content) => {\n  try {\n    setHeaders();\n    console.log(`fetcher.js: '${postId}', '${author}', '${content}'`);\n    var res = await axios({\n      method: 'delete',\n      url: `${rootURL}/api/post/${postId}/comments`,\n      data: {\n        \"author\": author,\n        \"content\": content\n      }\n    });\n    console.log(res.status + \" \" + res.statusText);\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n    reAuthenticate(401);\n  }\n};\nconst getUsersAsList = async usernames => {\n  try {\n    setHeaders();\n    const res = await axios.put(`${rootURL}/api/userlist`, {\n      usernames: usernames\n    });\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n    reAuthenticate(401);\n  }\n};\nconst getLastestPostOfAUser = async username => {\n  try {\n    setHeaders();\n    var res = await axios.get(`${rootURL}/api/user/${username}/latest`);\n    return res.data.data;\n  } catch (err) {\n    console.log(err);\n    reAuthenticate(401);\n  }\n};\nconst getUserFollowingSuggestion = async username => {\n  let user = null;\n  let followings = null;\n  user = await getUser(username);\n  if (!user) return [];\n  followings = user.followings;\n  let suggestions = [];\n  if (!followings) {\n    return [];\n  }\n  ;\n  const map1 = new Map();\n  followings.forEach(async followingUsername => {\n    const following = await getUser(followingUsername);\n    const secondaryFollowers = following.followers;\n    secondaryFollowers.forEach(secondayUsername => {\n      if (map1.has(secondayUsername)) {\n        map1.set(secondayUsername, map1.get(secondayUsername) + 1);\n        if (map1.get(secondayUsername) >= 3 && !followings.includes(secondayUsername) && secondayUsername != username && !suggestions.includes(secondayUsername)) {\n          suggestions.push(secondayUsername);\n        }\n      } else {\n        map1.set(secondayUsername, 1);\n      }\n    });\n  });\n  console.log(suggestions);\n  return suggestions;\n};\nconst getTotalFollowingPosts = async followingUsernames => {\n  let postCount = 0;\n  const userObjects = await getUsersAsList(followingUsernames);\n  userObjects.map(o => {\n    postCount += o.posts.length;\n  });\n  return postCount;\n};\nexport { getUsers, getUser, createNewUser, followUser, unfollowUser, getPosts, getPost, deletePost, updatePost, likePost, unlikePost, getComments, addComment, updateComment, deleteComment, getUsersAsList, createNewPost, getLastestPostOfAUser, getUserFollowingSuggestion, getTotalFollowingPosts, login, logout, lock };","map":{"version":3,"names":["axios","rootURL","process","env","NODE_ENV","setHeaders","defaults","headers","common","sessionStorage","getItem","setLockHeaders","reAuthenticate","status","removeItem","window","location","reload","login","username","password","res","post","setItem","data","token","err","console","log","logout","lock","getUsers","get","statusText","getUser","createNewUser","userObject","followUser","username1","username2","put","unfollowUser","getPosts","getPost","postId","createNewPost","postObject","deletePost","delete","updatePost","newImage","newDescription","likePost","unlikePost","getComments","addComment","commentObject","updateComment","author","oldContent","newContent","newMention","deleteComment","content","method","url","getUsersAsList","usernames","getLastestPostOfAUser","getUserFollowingSuggestion","user","followings","suggestions","map1","Map","forEach","followingUsername","following","secondaryFollowers","followers","secondayUsername","has","set","includes","push","getTotalFollowingPosts","followingUsernames","postCount","userObjects","map","o","posts","length"],"sources":["/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/frontend/src/fetcher.js"],"sourcesContent":["import axios from 'axios';\n\nconst rootURL = !process.env.NODE_ENV || process.env.NODE_ENV === 'development'\n? 'http://localhost:8080'\n: '';\n\n// Add the token to all HTTP requests\nconst setHeaders = () => {\n    axios.defaults.headers.common['Authorization'] = (sessionStorage.getItem('app-token') !== null) ? sessionStorage.getItem('app-token') : null\n}\n\nconst setLockHeaders = () => {\n    axios.defaults.headers.common['Lock'] = (sessionStorage.getItem('lock-token') !== null) ? sessionStorage.getItem('lock-token') : null\n}\n\nconst reAuthenticate = (status) => {\n    if (status == 401) {\n        sessionStorage.removeItem('app-token');\n        window.location.reload(true);\n    }\n}\n\nconst login = async (username, password) => {\n    try {\n        setLockHeaders();\n        const res = await axios.post(`${rootURL}/api/login`, {\n            \"username\": username,\n            \"password\": password\n        });\n        if (res.status == 201){\n            sessionStorage.setItem('app-token', res.data.token);\n            sessionStorage.removeItem('lock-token');\n        }\n        return res;\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nconst logout = async (username, password) => {\n    try {\n        const res = await axios.post(`${rootURL}/api/logout`, {\n            \"username\": username,\n            \"password\": password\n        });\n        //sessionStorage.setItem('app-token', res.data.token);\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nconst lock = async (username) => {\n    try {\n        const res = await axios.post(`${rootURL}/api/lock`, {\n            \"username\": username\n        });\n        if (res.status == 201){\n            sessionStorage.setItem('lock-token', res.data.token);\n        }       \n        return res;\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nconst getUsers = async () => {\n    try {\n        var res = await axios.get(`${rootURL}/api/users`);\n        console.log(res.status + \" \" + res.statusText);\n        // reAuthenticate(res.status);\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nconst getUser = async (username) => {\n    try {\n        var res = await axios.get(`${rootURL}/api/user/${username}`);\n        console.log(res.status + \" \" + res.statusText);\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nconst createNewUser = async (userObject) => {\n    try {\n        var res = await axios.post(`${rootURL}/api/user/`, {\n            \"userObject\": userObject\n        });\n        console.log(res.status + \" \" + res.statusText);\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nconst followUser = async (username1, username2) => {\n    try {\n        setHeaders();\n        var res = await axios.put(`${rootURL}/api/user/follow`, {\n            \"username1\": username1,\n            \"username2\": username2\n        });\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n        reAuthenticate(401);\n    }\n}\n\nconst unfollowUser = async (username1, username2) => {\n    try {\n        setHeaders();\n        var res = await axios.put(`${rootURL}/api/user/unfollow`, {\n            \"username1\": username1,\n            \"username2\": username2\n        });\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n        reAuthenticate(401);\n    }\n}\n\nconst getPosts = async () => {\n    try {\n        var res = await axios.get(`${rootURL}/api/posts`);\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nconst getPost = async (postId) => {\n    try {\n        var res = await axios.get(`${rootURL}/api/post/${postId}`);\n        console.log(res.status + \" \" + res.statusText);\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nconst createNewPost = async (username, postObject) => {\n    try {\n        setHeaders();\n        var res = await axios.post(`${rootURL}/api/post/`,\n            {\n                \"username\": username,\n                \"postObject\": postObject\n            }\n        );\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n        reAuthenticate(401);\n    }\n}\n\nconst deletePost = async (postId) => {\n    try {\n        setHeaders();\n        var res = await axios.delete(`${rootURL}/api/post/${postId}`);\n        console.log(res.status + \" \" + res.statusText);\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n        reAuthenticate(401);\n    }\n}\n\nconst updatePost = async (postId, newImage, newDescription) => {\n    try {\n        setHeaders();\n        var res = await axios.put(`${rootURL}/api/post/${postId}`,\n            {\n                \"newImage\": newImage,\n                \"newDescription\": newDescription\n            }\n        );\n        console.log(res.status + \" \" + res.statusText);\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n        reAuthenticate(401);\n    }\n}\n\nconst likePost = async (username, postId) => {\n    try {\n        setHeaders();\n        var res = await axios.put(`${rootURL}/api/post/${postId}/like`,\n            {\n                \"username\": username,\n            }\n        );\n        console.log(res.status + \" \" + res.statusText);\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n        reAuthenticate(401);\n    }\n}\n\nconst unlikePost = async (username, postId) => {\n    try {\n        setHeaders();\n        var res = await axios.put(`${rootURL}/api/post/${postId}/unlike`,\n            {\n                \"username\": username,\n            }\n        );\n        console.log(res.status + \" \" + res.statusText);\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n        reAuthenticate(401);\n    }\n}\n\nconst getComments = async (postId) => {\n    var res = await axios.get(`${rootURL}/api/post/${postId}/comments`);\n    console.log(res.status + \" \" + res.statusText);\n    return res.data.data;\n}\n\nconst addComment = async (postId, commentObject) => {\n    try {\n        setHeaders();\n        var res = await axios.post(`${rootURL}/api/post/${postId}/comments`,\n            {\n                \"commentObject\": commentObject\n            }\n        );\n        console.log(res.status + \" \" + res.statusText);\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n        reAuthenticate(401);\n    }\n}\n\nconst updateComment = async (postId, author, oldContent, newContent, newMention) => {\n    try {\n        setHeaders();\n        console.log(\"(postId, author, oldContent, newContent, newMention) = \", `'${postId}' '${author}' '${oldContent}' '${newContent}' '${newMention}'`);\n        var res = await axios.put(`${rootURL}/api/post/${postId}/comments`,\n            {\n                \"author\": author,\n                \"oldContent\": oldContent,\n                \"newContent\": newContent,\n                \"newMention\": newMention\n            }\n        );\n        console.log(res.status + \" \" + res.statusText);\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n        reAuthenticate(401);\n    }\n}\n\nconst deleteComment = async (postId, author, content) => {\n    try {\n        setHeaders();\n        console.log(`fetcher.js: '${postId}', '${author}', '${content}'`);\n        var res = await axios(\n            {\n                method: 'delete',\n                url: `${rootURL}/api/post/${postId}/comments`,\n                data: {\n                    \"author\": author,\n                    \"content\": content\n                }\n            }\n        );\n        console.log(res.status + \" \" + res.statusText);\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n        reAuthenticate(401);\n    }\n}\n\nconst getUsersAsList = async (usernames) => {\n    try {\n        setHeaders();\n        const res = await axios.put(`${rootURL}/api/userlist`,\n            {\n                usernames: usernames\n            });\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n        reAuthenticate(401);\n    }\n}\n\nconst getLastestPostOfAUser = async (username) => {\n    try {\n        setHeaders();\n        var res = await axios.get(`${rootURL}/api/user/${username}/latest`);\n        return res.data.data;\n    } catch (err) {\n        console.log(err);\n        reAuthenticate(401);\n    }\n}\n\nconst getUserFollowingSuggestion = async (username) => {\n    let user = null;\n    let followings = null;\n    user = await getUser(username);\n    if (!user) return [];\n    followings = user.followings;\n    let suggestions = [];\n    if (!followings) {\n        return [];\n    };\n    const map1 = new Map();\n    followings.forEach(async (followingUsername) => {\n        const following = await getUser(followingUsername);\n        const secondaryFollowers = following.followers;\n        secondaryFollowers.forEach((secondayUsername) => {\n            if(map1.has(secondayUsername)) {\n                map1.set(secondayUsername, map1.get(secondayUsername) + 1);\n                if (map1.get(secondayUsername) >= 3 && !followings.includes(secondayUsername) && secondayUsername != username && !suggestions.includes(secondayUsername)) {\n                    suggestions.push(secondayUsername);\n                }\n            } else {\n                map1.set(secondayUsername, 1);\n            }\n        })\n    });\n    console.log(suggestions);\n    return suggestions;\n}\n\nconst getTotalFollowingPosts = async (followingUsernames) => {\n    let postCount = 0;\n    const userObjects = await getUsersAsList(followingUsernames);\n    userObjects.map((o) => {\n        postCount += o.posts.length;\n    });\n    return postCount;\n}\n\nexport {\n    getUsers,\n    getUser,\n    createNewUser,\n    followUser,\n    unfollowUser,\n    getPosts,\n    getPost,\n    deletePost,\n    updatePost,\n    likePost,\n    unlikePost,\n    getComments,\n    addComment,\n    updateComment,\n    deleteComment,\n    getUsersAsList,\n    createNewPost,\n    getLastestPostOfAUser,\n    getUserFollowingSuggestion,\n    getTotalFollowingPosts,\n    login,\n    logout,\n    lock\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}