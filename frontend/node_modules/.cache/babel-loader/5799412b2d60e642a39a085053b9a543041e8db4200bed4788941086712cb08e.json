{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/WEB_APP/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/WEB_APP/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{Outlet,NavLink}from\"react-router-dom\";import{NavBar}from\"../components/NavBar\";import{SearchBar}from\"../components/SearchBar\";import Container from'react-bootstrap/Container';import Nav from'react-bootstrap/Nav';import Navbar from'react-bootstrap/Navbar';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import{logout}from\"../fetcher\";import ReactRoundedImage from\"react-rounded-image\";import{useSelector,useDispatch}from'react-redux';import{logoutAction,selectCurrentUser}from'./UserPage/currentUserSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function LoginLink(){var dispatch=useDispatch();var stateCurrentUser=useSelector(selectCurrentUser);var handleLinkOnClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(logoutAction());sessionStorage.removeItem('app-token');alert('Logged out!');//await logout(stateCurrentUser.username, stateCurrentUser.password);\nconsole.log(\"currentuser \"+stateCurrentUser.username+\" has logged out: \");case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleLinkOnClick(_x){return _ref.apply(this,arguments);};}();if(stateCurrentUser.username===\"NOT_A_USER\"){return/*#__PURE__*/_jsx(NavLink,{to:\"/login\",className:\"headers\",children:\"Login\"});}else{return/*#__PURE__*/_jsx(NavLink,{onClick:handleLinkOnClick,to:\"/login\",className:\"headers\",children:\"Logout\"});}}function Layout(){var stateCurrentUser=useSelector(selectCurrentUser);var username=stateCurrentUser.username;var avatar=stateCurrentUser.avatar;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"background\",children:[/*#__PURE__*/_jsx(Navbar,{collapseOnSelect:true,expand:\"lg\",bg:\"dark\",variant:\"dark\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Col,{sm:6}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Nav,{className:\"justify-content-end\",activeKey:\"/\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(NavLink,{to:'/user/'+username,children:/*#__PURE__*/_jsx(ReactRoundedImage,{image:avatar,roundedColor:\"#ffffff\",imageWidth:\"35\",imageHeight:\"35\",roundedSize:\"2\",borderRadius:\"20\"})})}),/*#__PURE__*/_jsxs(Nav.Item,{children:[\" \",/*#__PURE__*/_jsx(NavLink,{to:'/user/'+username,className:\"headers\",children:username})]}),/*#__PURE__*/_jsxs(Nav.Item,{children:[\" \",/*#__PURE__*/_jsx(NavLink,{to:'/feed',className:\"headers\",children:\"Feed\"})]}),/*#__PURE__*/_jsxs(Nav.Item,{children:[\" \",/*#__PURE__*/_jsx(NavLink,{to:\"/register\",className:\"headers\",children:\"Sign up\"})]}),/*#__PURE__*/_jsxs(Nav.Item,{children:[\" \",/*#__PURE__*/_jsx(LoginLink,{}),\" \"]}),/*#__PURE__*/_jsxs(Nav.Item,{children:[\" \",/*#__PURE__*/_jsx(NavLink,{to:\"\",className:\"headers\",children:\"Home\"})]}),/*#__PURE__*/_jsxs(Nav.Item,{children:[\" \",/*#__PURE__*/_jsx(NavLink,{eventKey:\"disabled\",className:\"headers\",disabled:true,children:\" Contact Us \"}),\" \"]})]})})]})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:8,children:/*#__PURE__*/_jsx(NavLink,{to:\"\",children:/*#__PURE__*/_jsx(Navbar.Brand,{style:{paddingLeft:\"rem\"},children:/*#__PURE__*/_jsx(\"img\",{src:\"https://drive.google.com/uc?export=view&id=1g1nSkhBDmERAMY12iuN6EksYF9AZElc2\",alt:\"logo\",width:\"527\",height:\"149\"})})})}),/*#__PURE__*/_jsxs(Col,{children:[\" \",/*#__PURE__*/_jsx(SearchBar,{}),\" \"]})]}),/*#__PURE__*/_jsx(Row,{style:{paddingTop:\"5rem\",paddingLeft:\"rem\"}})]}),/*#__PURE__*/_jsx(Outlet,{})]});};export default Layout;","map":{"version":3,"names":["React","Outlet","NavLink","NavBar","SearchBar","Container","Nav","Navbar","Row","Col","logout","ReactRoundedImage","useSelector","useDispatch","logoutAction","selectCurrentUser","LoginLink","dispatch","stateCurrentUser","handleLinkOnClick","e","sessionStorage","removeItem","alert","console","log","username","Layout","avatar","paddingLeft","paddingTop"],"sources":["/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/WEB_APP/frontend/src/pages/Layout.js"],"sourcesContent":["import React from 'react';\nimport { Outlet, NavLink } from \"react-router-dom\";\nimport { NavBar } from \"../components/NavBar\";\nimport { SearchBar } from \"../components/SearchBar\";\nimport Container from 'react-bootstrap/Container';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { logout } from \"../fetcher\";\nimport ReactRoundedImage from \"react-rounded-image\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport { logoutAction, selectCurrentUser } from './UserPage/currentUserSlice'\n\nfunction LoginLink() {\n  const dispatch = useDispatch();\n  const stateCurrentUser = useSelector(selectCurrentUser);\n\n  const handleLinkOnClick = async (e) => {\n    dispatch(logoutAction());\n    sessionStorage.removeItem('app-token');\n    alert('Logged out!');\n   //await logout(stateCurrentUser.username, stateCurrentUser.password);\n    console.log(\"currentuser \" + stateCurrentUser.username + \" has logged out: \");\n  };\n\n  if (stateCurrentUser.username === \"NOT_A_USER\") {\n    return (<NavLink to=\"/login\" className='headers'>{\"Login\"}</NavLink>);\n  } else {\n    return (<NavLink onClick={handleLinkOnClick} to=\"/login\" className='headers'>Logout</NavLink>);\n  }\n}\n\n\nfunction Layout() {\n\n  const stateCurrentUser = useSelector(selectCurrentUser);\n  const username = stateCurrentUser.username;\n  const avatar = stateCurrentUser.avatar;\n\n  return (\n    <>\n      {/* the pages Nav for development use */}\n      <NavBar />\n\n      <div className=\"background\">\n        <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\n          <Container>\n            <Col sm={6}></Col>\n            <Col>\n              <Nav className=\"justify-content-end\" activeKey=\"/\">\n                <Nav.Item>\n                  <NavLink to={'/user/' + username}>\n                    <ReactRoundedImage\n                      image={avatar}\n                      roundedColor=\"#ffffff\"\n                      imageWidth=\"35\"\n                      imageHeight=\"35\"\n                      roundedSize=\"2\"\n                      borderRadius=\"20\"\n                    />\n                  </NavLink>\n                </Nav.Item>\n                <Nav.Item> <NavLink to={'/user/' + username} className='headers'>{username}</NavLink></Nav.Item>\n                <Nav.Item> <NavLink to={'/feed'} className='headers'>Feed</NavLink></Nav.Item>\n                <Nav.Item> <NavLink to=\"/register\" className='headers'>Sign up</NavLink></Nav.Item>\n                {/* handle login to logout */}\n                <Nav.Item> <LoginLink /> </Nav.Item>\n                <Nav.Item> <NavLink to=\"\" className='headers'>Home</NavLink></Nav.Item>\n                <Nav.Item> <NavLink eventKey=\"disabled\" className='headers' disabled> Contact Us </NavLink> </Nav.Item>\n              </Nav>\n            </Col>\n          </Container>\n        </Navbar>\n\n        <Row>\n          <Col sm={8}>\n            <NavLink to=\"\">\n              <Navbar.Brand style={{ paddingLeft: \"rem\" }}>\n                <img src={\"https://drive.google.com/uc?export=view&id=1g1nSkhBDmERAMY12iuN6EksYF9AZElc2\"} alt=\"logo\" width=\"527\" height=\"149\"></img>\n              </Navbar.Brand>\n            </NavLink>\n          </Col>\n          <Col> <SearchBar /> </Col>\n        </Row>\n\n        <Row style={{ paddingTop: \"5rem\", paddingLeft: \"rem\" }}></Row>\n      </div>\n\n      <Outlet />\n    </>\n  )\n};\n\nexport default Layout;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}