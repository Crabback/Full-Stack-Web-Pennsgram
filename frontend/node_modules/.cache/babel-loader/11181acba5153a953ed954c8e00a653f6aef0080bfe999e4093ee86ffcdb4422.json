{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/WEB_APP/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/WEB_APP/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/WEB_APP/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"../../Styles.css\";//import { getPost } from \"../../api/mock_api\";\nimport React,{useState,useEffect}from\"react\";import{Footer}from\"../../components/Footer\";import ReactRoundedImage from\"react-rounded-image\";import{CardCustomedUserPage}from'../../components/CardUserPage';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Container from'react-bootstrap/Container';import Button from'react-bootstrap/Button';import{NavLink,useParams,useNavigate}from\"react-router-dom\";import{selectCurrentUser,updateCurrentUser}from'./currentUserSlice';import{useSelector,useDispatch}from'react-redux';import{getUser,getPost,getPosts,followUser,unfollowUser}from\"../../fetcher\";import ToggleButton from'react-bootstrap/ToggleButton';import PostEditPopUp from'./PostEditPopUp.js';import InfiniteScroll from\"react-infinite-scroll-component\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function User(){var dispatch=useDispatch();var navigate=useNavigate();// the logged-in user who is browsing page (self)\nvar stateCurrentUser=useSelector(selectCurrentUser);var _useState=useState(stateCurrentUser),_useState2=_slicedToArray(_useState,2),thisUser=_useState2[0],setThisUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),allPosts=_useState4[0],setThisUserPosts=_useState4[1];var _useState5=useState(stateCurrentUser.posts.slice(0,3)),_useState6=_slicedToArray(_useState5,2),thisUserPostsIds=_useState6[0],setThisUserPostsIds=_useState6[1];var _useState7=useState(3),_useState8=_slicedToArray(_useState7,2),numberPostsShown=_useState8[0],setNumberPostsShown=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),hasMore=_useState10[0],setHasMore=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),offset=_useState12[0],setOffset=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),checked=_useState14[0],setChecked=_useState14[1];var _useState15=useState(\"Follow\"),_useState16=_slicedToArray(_useState15,2),text=_useState16[0],setText=_useState16[1];var _useState17=useState(true),_useState18=_slicedToArray(_useState17,2),isFollowing=_useState18[0],setIsFollowing=_useState18[1];var _useParams=useParams(),username=_useParams.username;// action trigger states\nvar _useState19=useState(true),_useState20=_slicedToArray(_useState19,2),editedAndRefreshCards=_useState20[0],setEditedAndRefreshCards=_useState20[1];//the value of this switch doesn't matter only the change matter for triggering useEffect\nvar _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),hearFromDeleteComment=_useState22[0],setHearFromDeleteComment=_useState22[1];//the request for refreshing comment list from PopUp window, trigger value doesnt matter\n// states for post edit pop up\nvar _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),visibility=_useState24[0],setVisibility=_useState24[1];var _useState25=useState({}),_useState26=_slicedToArray(_useState25,2),postBeingEdited=_useState26[0],setPostBeingEdited=_useState26[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var output1,output2;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getUser(username);case 2:output1=_context.sent;_context.next=5;return getPosts();case 5:output2=_context.sent;//get the user object\nif(output1===null){alert(\"User Not Found.\");navigate(\"/user/\".concat(stateCurrentUser.username));}else{setThisUser(output1);setThisUserPostsIds(output1.posts.slice(0,numberPostsShown));setThisUserPosts(output2);}case 7:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}try{fetchData();}catch(err){console.error(err);}if(stateCurrentUser.followings.includes(username)){setText(\"Following\");setChecked(false);setOffset(0);setIsFollowing(true);}else{setText(\"Follow\");setChecked(true);setOffset(0);setIsFollowing(false);}// if hearFromDeleteComment: action -> setPostBeingEdited\nfunction updatePostBeingEdited(){return _updatePostBeingEdited.apply(this,arguments);}function _updatePostBeingEdited(){_updatePostBeingEdited=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var updatedPost;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0://refresh the same post with comment deleted\nconsole.log(\"before postBeingEdited.id\",postBeingEdited.id);_context2.next=3;return getPost(JSON.stringify(postBeingEdited)!=='{}'?postBeingEdited.id:-1);case 3:updatedPost=_context2.sent;setPostBeingEdited(updatedPost);console.log(\"after postBeingEdited.id\",postBeingEdited.id);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return _updatePostBeingEdited.apply(this,arguments);}try{if(JSON.stringify(postBeingEdited)!=='{}'&&postBeingEdited){updatePostBeingEdited();};}catch(err){console.log(err);console.log(\"Error: User: useEffect: updatePostBeingEdited\");}},[username,editedAndRefreshCards,hearFromDeleteComment,numberPostsShown]);//adding dependency making sure useEffect only run once after each render\nvar popupCloseHandler=function popupCloseHandler(){setVisibility(false);};var fetchMorePost=function fetchMorePost(){console.log(\"thisUser.posts.length: \",thisUser.posts.length);if(numberPostsShown>=thisUser.posts.length){setHasMore(false);return;}// a fake async api call like which sends\n// 20 more records in .5 secs\nsetTimeout(function(){setThisUserPostsIds(thisUser.posts.slice(0,numberPostsShown+3));console.log(\"numberPostsShown: \",numberPostsShown);setNumberPostsShown(function(n){return n+3;});},1300);};var posts=thisUser===null||thisUser.posts.length===0?/*#__PURE__*/_jsx(\"div\",{children:\"No posts yet. Easily uploads \"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:thisUserPostsIds.length,next:fetchMorePost,hasMore:hasMore,loader:/*#__PURE__*/_jsx(\"h4\",{children:\"Loading...\"}),endMessage:/*#__PURE__*/_jsx(\"p\",{style:{paddingTop:\"2rem\",textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"b\",{children:\"Yay! You have seen it all\"})}),children:thisUserPostsIds.map(function(p){return/*#__PURE__*/_jsx(CardCustomedUserPage,{username:stateCurrentUser.username,post:allPosts.filter(function(n){return n.id===p;})[0],setEditedAndRefreshCards:setEditedAndRefreshCards,oldEditedAndRefreshCards:editedAndRefreshCards,setPostBeingEdited:setPostBeingEdited,setVisibility:setVisibility},p);})})]});function ActionButton(){// everything except the API call is visual only\nfunction handleFollow(_x){return _handleFollow.apply(this,arguments);}function _handleFollow(){_handleFollow=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e){var updatedUser,_updatedUser;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setChecked(e.currentTarget.checked);if(!(text===\"Follow\")){_context3.next=10;break;}setText(\"Following\");if(isFollowing){setOffset(0);}else{setOffset(1);}_context3.next=6;return followUser(stateCurrentUser.username,username);case 6:updatedUser=_context3.sent;dispatch(updateCurrentUser(updatedUser));_context3.next=16;break;case 10:setText(\"Follow\");if(isFollowing){setOffset(-1);}else{setOffset(0);}_context3.next=14;return unfollowUser(stateCurrentUser.username,username);case 14:_updatedUser=_context3.sent;dispatch(updateCurrentUser(_updatedUser));case 16:case\"end\":return _context3.stop();}}},_callee3);}));return _handleFollow.apply(this,arguments);}if(username===stateCurrentUser.username&&username!==\"NOT_A_USER\"){return/*#__PURE__*/_jsx(NavLink,{to:\"/upload\",children:/*#__PURE__*/_jsx(Button,{children:\" New Post \"})});}else if(stateCurrentUser.username!==\"NOT_A_USER\"){return/*#__PURE__*/_jsx(ToggleButton,{className:\"mb-2\",id:\"toggle-check\",type:\"checkbox\",variant:\"outline-primary\",\"data-testid\":\"followingButton\",checked:checked,onChange:handleFollow,children:text});}else{return/*#__PURE__*/_jsx(NavLink,{to:\"/login\",children:/*#__PURE__*/_jsx(Button,{children:\" Login to Follow \"})});}}return/*#__PURE__*/_jsxs(\"div\",{className:\"background\",children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(ReactRoundedImage,{image:thisUser.avatar,roundedColor:\"white\",imageWidth:\"150\",imageHeight:\"150\",roundedSize:\"10\",borderRadius:\"100\"})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',paddingTop:\"1rem\"},children:/*#__PURE__*/_jsxs(\"p\",{className:\"fw-bold\",\"data-testid\":\"username\",children:[\" \",thisUser.username,\" \"]})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{children:[\" \",/*#__PURE__*/_jsxs(NavLink,{to:\"/followinglist/\"+thisUser.username,style:{textDecoration:\"none\"},children:[\" \",thisUser.followings.length,\" Following \"]}),\" \"]}),/*#__PURE__*/_jsxs(Col,{children:[\" \",/*#__PURE__*/_jsxs(NavLink,{to:\"/followerlist/\"+thisUser.username,style:{textDecoration:\"none\"},children:[\" \",thisUser.followers.length+offset,\" Followers \"]}),\" \"]})]})}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Col,{sm:{span:4,offset:11},style:{paddingBottom:'2rem',paddingTop:'2rem'},children:/*#__PURE__*/_jsx(ActionButton,{})}),/*#__PURE__*/_jsx(Col,{sm:15,style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsxs(Row,{children:[\" \",posts,\" \"]})})]}),/*#__PURE__*/_jsxs(PostEditPopUp,{className:\"popWindow\",post:postBeingEdited,setEditedAndRefreshCards:setEditedAndRefreshCards,oldEditedAndRefreshCards:editedAndRefreshCards,setHearFromDeleteComment:setHearFromDeleteComment,oldHearFromDeleteComment:hearFromDeleteComment,setPostBeingEdited:setPostBeingEdited,onClose:popupCloseHandler,show:visibility,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Hello This is Popup Content Area\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"This is my lorem ipsum text here!\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{paddingLeft:\"2rem\"},children:/*#__PURE__*/_jsx(Footer,{})})]});}","map":{"version":3,"names":["React","useState","useEffect","Footer","ReactRoundedImage","CardCustomedUserPage","Row","Col","Container","Button","NavLink","useParams","useNavigate","selectCurrentUser","updateCurrentUser","useSelector","useDispatch","getUser","getPost","getPosts","followUser","unfollowUser","ToggleButton","PostEditPopUp","InfiniteScroll","User","dispatch","navigate","stateCurrentUser","thisUser","setThisUser","allPosts","setThisUserPosts","posts","slice","thisUserPostsIds","setThisUserPostsIds","numberPostsShown","setNumberPostsShown","hasMore","setHasMore","offset","setOffset","checked","setChecked","text","setText","isFollowing","setIsFollowing","username","editedAndRefreshCards","setEditedAndRefreshCards","hearFromDeleteComment","setHearFromDeleteComment","visibility","setVisibility","postBeingEdited","setPostBeingEdited","fetchData","output1","output2","alert","err","console","error","followings","includes","updatePostBeingEdited","log","id","JSON","stringify","updatedPost","popupCloseHandler","fetchMorePost","length","setTimeout","n","paddingTop","textAlign","map","p","filter","ActionButton","handleFollow","e","currentTarget","updatedUser","display","justifyContent","avatar","alignItems","textDecoration","followers","span","paddingBottom","paddingLeft"],"sources":["/Users/zanemaomac/Desktop/CIS5570/project/project---design-hw1-team_offersoverflow/WEB_APP/frontend/src/pages/UserPage/User.js"],"sourcesContent":["import \"../../Styles.css\";\n//import { getPost } from \"../../api/mock_api\";\nimport React, { useState, useEffect } from \"react\";\nimport { Footer } from \"../../components/Footer\";\nimport ReactRoundedImage from \"react-rounded-image\";\nimport { CardCustomedUserPage } from '../../components/CardUserPage';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\nimport { NavLink, useParams, useNavigate } from \"react-router-dom\";\nimport { selectCurrentUser, updateCurrentUser } from './currentUserSlice'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getUser, getPost, getPosts, followUser, unfollowUser } from \"../../fetcher\";\nimport ToggleButton from 'react-bootstrap/ToggleButton';\nimport PostEditPopUp from './PostEditPopUp.js'\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nexport default function User() {\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  // the logged-in user who is browsing page (self)\n  const stateCurrentUser = useSelector(selectCurrentUser);\n  const [thisUser, setThisUser] = useState(stateCurrentUser);\n  const [allPosts, setThisUserPosts] = useState([]);\n\n  const [thisUserPostsIds, setThisUserPostsIds] = useState(stateCurrentUser.posts.slice(0, 3));\n  const [numberPostsShown, setNumberPostsShown] = useState(3);\n  const [hasMore, setHasMore] = useState(true);\n\n  const [offset, setOffset] = useState(0);\n  const [checked, setChecked] = useState(true);\n  const [text, setText] = useState(\"Follow\");\n  const [isFollowing, setIsFollowing] = useState(true);\n\n  let { username } = useParams();\n  // action trigger states\n  const [editedAndRefreshCards, setEditedAndRefreshCards] = useState(true); //the value of this switch doesn't matter only the change matter for triggering useEffect\n  const [hearFromDeleteComment, setHearFromDeleteComment] = useState(false); //the request for refreshing comment list from PopUp window, trigger value doesnt matter\n  // states for post edit pop up\n  const [visibility, setVisibility] = useState(false);\n  const [postBeingEdited, setPostBeingEdited] = useState({});\n\n  useEffect(() => {\n    async function fetchData() {\n      //verification username exist or not\n      let output1 = await getUser(username);\n      let output2 = await getPosts();\n      //get the user object\n      if (output1 === null) {\n        alert(\"User Not Found.\")\n        navigate(`/user/${stateCurrentUser.username}`);\n      } else {\n        setThisUser(output1);\n        setThisUserPostsIds(output1.posts.slice(0, numberPostsShown));\n        setThisUserPosts(output2);\n      }\n    }\n    try { fetchData(); }\n    catch (err) {\n      console.error(err);\n    }\n\n    if (stateCurrentUser.followings.includes(username)) {\n      setText(\"Following\");\n      setChecked(false);\n      setOffset(0);\n      setIsFollowing(true);\n    } else {\n      setText(\"Follow\");\n      setChecked(true);\n      setOffset(0);\n      setIsFollowing(false);\n    }\n\n    // if hearFromDeleteComment: action -> setPostBeingEdited\n    async function updatePostBeingEdited() {\n      //refresh the same post with comment deleted\n      console.log(\"before postBeingEdited.id\", postBeingEdited.id);\n      const updatedPost = await getPost(JSON.stringify(postBeingEdited) !== '{}' ? postBeingEdited.id : -1);\n      setPostBeingEdited(updatedPost);\n      console.log(\"after postBeingEdited.id\", postBeingEdited.id);\n\n    }\n    try {\n      if (JSON.stringify(postBeingEdited) !== '{}' && postBeingEdited) { updatePostBeingEdited() };\n    } catch (err) {\n      console.log(err);\n      console.log(\"Error: User: useEffect: updatePostBeingEdited\");\n    }\n\n  }, [username, editedAndRefreshCards, hearFromDeleteComment, numberPostsShown]); //adding dependency making sure useEffect only run once after each render\n\n\n  const popupCloseHandler = () => {\n    setVisibility(false);\n  };\n\n  const fetchMorePost = () => {\n    console.log(\"thisUser.posts.length: \", thisUser.posts.length);\n    if (numberPostsShown >= thisUser.posts.length) {\n      setHasMore(false);\n      return;\n    }\n    // a fake async api call like which sends\n    // 20 more records in .5 secs\n    setTimeout(() => {\n\n      setThisUserPostsIds(thisUser.posts.slice(0, numberPostsShown + 3));\n      console.log(\"numberPostsShown: \", numberPostsShown);\n      setNumberPostsShown(n => n + 3);\n\n    }, 1300);\n  };\n\n  const posts = (thisUser===null || thisUser.posts.length===0 )?  (<div>No posts yet. Easily uploads </div>) : \n  <div>\n  <hr />\n  <InfiniteScroll\n    dataLength={thisUserPostsIds.length}\n    next={fetchMorePost}\n    hasMore={hasMore}\n    loader={<h4>Loading...</h4>}\n    endMessage={\n      <p style={{ paddingTop: \"2rem\", textAlign: \"center\" }}>\n        <b>Yay! You have seen it all</b>\n      </p>\n    }\n  >\n    \n    {    thisUserPostsIds.map((p)=>(\n    <CardCustomedUserPage username={stateCurrentUser.username} post={allPosts.filter(n => n.id === p)[0]} \n                          setEditedAndRefreshCards = {setEditedAndRefreshCards} oldEditedAndRefreshCards={editedAndRefreshCards} \n                          setPostBeingEdited = {setPostBeingEdited} setVisibility= {setVisibility} key={p}/>\n  ))}\n  </InfiniteScroll>\n  </div>\n\n  function ActionButton() {\n    // everything except the API call is visual only\n    async function handleFollow(e) {\n      setChecked(e.currentTarget.checked);\n      if (text === \"Follow\") {\n        setText(\"Following\");\n        if (isFollowing) { setOffset(0); }\n        else { setOffset(1); }\n        const updatedUser = await followUser(stateCurrentUser.username, username);\n        dispatch(updateCurrentUser(updatedUser));\n      } else {\n        setText(\"Follow\");\n        if (isFollowing) { setOffset(-1); }\n        else { setOffset(0); }\n        const updatedUser = await unfollowUser(stateCurrentUser.username, username);\n        dispatch(updateCurrentUser(updatedUser));\n      }\n    }\n\n    if (username === stateCurrentUser.username && username !== \"NOT_A_USER\") {\n      return (\n        <NavLink to=\"/upload\">\n          <Button> New Post </Button>\n        </NavLink>\n      )\n    } else if (stateCurrentUser.username !== \"NOT_A_USER\") {\n      return (\n        <ToggleButton className=\"mb-2\" id=\"toggle-check\" type=\"checkbox\" variant=\"outline-primary\"\n          data-testid=\"followingButton\" checked={checked} onChange={handleFollow}>\n          {text}\n        </ToggleButton>\n      )\n    } else {\n      return (\n        <NavLink to=\"/login\">\n          <Button> Login to Follow </Button>\n        </NavLink>\n      )\n    }\n  }\n\n\n  return (\n    <div className='background'>\n      <div style={{ display: 'flex', justifyContent: 'center' }}>\n        <ReactRoundedImage\n          image={thisUser.avatar}\n          roundedColor=\"white\"\n          imageWidth=\"150\"\n          imageHeight=\"150\"\n          roundedSize=\"10\"\n          borderRadius=\"100\" />\n      </div>\n      <div style={{ display: 'flex', justifyContent: 'center', paddingTop: \"1rem\" }}>\n        <p className=\"fw-bold\" data-testid=\"username\"> {thisUser.username} </p>\n      </div>\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n        <Row>\n          <Col> <NavLink to={\"/followinglist/\" + thisUser.username} style={{ textDecoration: \"none\" }}> {thisUser.followings.length} Following </NavLink> </Col>\n          <Col> <NavLink to={\"/followerlist/\" + thisUser.username} style={{ textDecoration: \"none\" }}> {thisUser.followers.length + offset} Followers </NavLink> </Col>\n        </Row>\n      </div>\n\n      <Container>\n        <Col sm={{ span: 4, offset: 11 }} style={{ paddingBottom: '2rem', paddingTop: '2rem' }}>\n          <ActionButton />\n        </Col>\n        <Col sm={15} style={{ display: 'flex', justifyContent: 'center' }}>\n          <Row> {posts} </Row>\n        </Col>\n      </Container>\n\n      <PostEditPopUp className=\"popWindow\" post={postBeingEdited}\n        setEditedAndRefreshCards={setEditedAndRefreshCards} oldEditedAndRefreshCards={editedAndRefreshCards}\n        setHearFromDeleteComment={setHearFromDeleteComment} oldHearFromDeleteComment={hearFromDeleteComment}\n        setPostBeingEdited={setPostBeingEdited}\n        onClose={popupCloseHandler} show={visibility} >\n        <h1>Hello This is Popup Content Area</h1>\n        <h2>This is my lorem ipsum text here!</h2>\n      </PostEditPopUp>\n\n\n      <div style={{ paddingLeft: \"2rem\" }}>\n        <Footer />\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}